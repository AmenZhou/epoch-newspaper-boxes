h1 報紙發行趨勢圖

#chart

= javascript_include_tag "https://www.google.com/jsapi"

javascript:
  google.load('visualization', '1', {packages: ['corechart', 'line']});

  $(document).ready(function(){
    $.getJSON('/histories/trend').done(function(records){
      google.setOnLoadCallback(drawChart(records));
    });
  })

  function drawChart(records){
    var data = new google.visualization.DataTable();
    data.addColumn('number', '日期');
    data.addColumn('number', '報箱報紙');

    data.addRows(records);

    var options = {
    hAxis: {
      title: '日期'
    },
    vAxis: {
      title: '報紙總量'
    }
    };

    var chart = new google.visualization.LineChart(document.getElementById('chart'));

    chart.draw(data, options);
  }
