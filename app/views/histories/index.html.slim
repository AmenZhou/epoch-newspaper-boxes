h1 Newspaper Box Histories

#chart

= javascript_include_tag "https://www.google.com/jsapi"

javascript:
  google.load('visualization', '1', {packages: ['corechart', 'line']});

  $(document).ready(function(){
    $.getJSON('/histories/trender').done(function(records){
      google.setOnLoadCallback(drawChart(records));
    });
  })

  function drawChart(records){
    var data = new google.visualization.DataTable();
    data.addColumn('number', 'Date');
    data.addColumn('number', 'News Paper');

    data.addRows(records);

    var options = {
    hAxis: {
      title: 'Time'
    },
    vAxis: {
      title: 'News Paper Sum'
    }
    };

    var chart = new google.visualization.LineChart(document.getElementById('chart'));

    chart.draw(data, options);
  }
